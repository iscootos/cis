#IP地址/子网掩码/网关
####IP地址
互联网上的每个接口必须有唯一的Internet地址(也称为IP地址)，长度为32位(IPv4，最小版本IPv6长度为128位)，Internet地址并不是采用平面形式的地址空间，而是具有一定结构的，5类不同的地址格式             
IP地址由两部分组成，一部分为网络地址，另一部分为主机地址，网络地址的位数直接决定了可以分配的网络数，主机地址的位数则决定了网络中最大的主机数        
```text
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    
A 类  |0|  网络号(7位)  |               主机号(24位)                  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
B 类  |1|0|        网络号(14位)       |           主机号(16位)        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
C 类  |1|1|0|              网络号(21位)               |  主机号(8位)  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
D 类  |1|1|1|0|                       多播组号(28位)                  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
E 类  |1|1|1|1|0|                      留待后用(27位)                 |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
```
这些32位的地址通常写成4个十进制的数，其中每个整数对应一个字节，这种表示方法称做"点分十进制表示法(Dotted Decimal Notation)"                
区分各类地址的最简单方法是看它的第一个十进制整数，下表列出了各类地址的起止范围，其中第一个十进制整数用加黑字体表示           
```text
类型    范围
A       0.0.0.0到127.255.255.255
B       128.0.0.0到192.255.255.255
C       192.0.0.0到223.255.255.255
D       224.0.0.0到239.255.255.255
E       240.0.0.0到247.255.255.255
```
####子网掩码
互联网是由许多小型网络构成的，每个网络上都有许多主机，这样便构成了一个有层次的结构。         
IP地址在设计时就考虑到地址分配的层次特点，将每个IP地址都分割成网络号和主机号两部分，以便于IP地址的寻址操作。           
IP地址的网络号和主机号是多少位呢？如果不指定，就不知道哪些位是网络号、哪些是主机号，这就需要通过子网掩码来实现。               
什么是子网掩码？子网掩码不能单独存在，它必须结合IP地址一起使用，子网掩码只有一个作用，就是将某个IP地址划分成网络地址和主机地址两部分。子网掩码的设定必须遵循一定的规则，与IP地址相同，子网掩码的长度也是32位，左边是网络位，用二进制数字`1`表示，右边是主机位，用二进制数字`0`表示，例如，IP地址为`192.168.1.1`和子网掩码为`255.255.255.0`。其中`1`有24个，代表与此相对应的IP地址左边24位是网络号，`0`有8个，代表与此相对应的IP地址右边8位是主机号，这样子网掩码就确定了一个IP地址的32位二进制数字中哪些是网络号、哪些是主机号。这对于采用TCP/IP协议的网络来说非常重要，只有通过子网掩码，才能表明一台主机所在的子网与其他子网的关系，使网络正常工作。常用的子网掩码，有数百种，这里只介绍最常用的两种子网掩码，它们分别是`255.255.255.0`和`255.255.0.0`            
子网掩码是`255.255.255.0`的网络，最后面一个数字可以在0~255范围内任意变化，因此可以提供256个IP地址，但是实际可用的IP地址数量是256-2，即254个，因为主机号不能全是`0`或全是`1`            
子网掩码是`255.255.0.0`的网络，后面两个数字可以在0~255范围内任意变化，可以提供255^2个IP地址，但是实际可用的IP地址数量是255^2 - 2即65023个，IP地址的子网掩码设置不是任意的，如果将子网掩码设置过大，也就是说子网范围扩大，那么根据子网寻径规则，则可能发往和本地机不在同一子网内的目地机的数据，会因为错误的判断而认为目的机是在同一子网内，那么，数据包将在本子网内循环，直到超时并抛弃，使数据不能正确到达目地机，导致网络传输错误，如果将子网掩码设置得过小，那么就会将本来属于同一子网内的机器之间的通信当做是跨子网传输，数据包都交给缺省网关处理，这样势必增加缺省网关的负担，造成网络效率下降。       
因此子网掩码应该根据网络的规模进行设置，如果一个网络的规模不超过254台电脑，采用`255.255.255.0`作为子网掩码就可以了，现在大多数局域网都不会超过这个数字，因此`255.255.255.0`是最常用的IP地址子网掩码，中小学校园网具有1500多台电脑，这种规模的局域网可以使用`255.255.0.0`       
####默认网关
按照不同的分类标准，网关也分很多种，TCP/IP协议里的网关是最常用的       
那么网关到底是什么呢？网关实质上是一个网络通向其他网络的IP地址，比如有网络A和网络B，网络A的IP地址范围为`192.168.1.1~254`，子网掩码为`255.255.255.0`，网络B的IP地址范围为`192.168.2.1~254`，子网掩码为`255.255.255.0`，在没有路由器的情况下，两个网络之间是不能进行TCP/IP通信的，即使是两个网络连接在同一台交换机(或集线器)上，TCP/IP协议也会根据子网掩码(255.255.255.0)判定两个网络中的主机处在不同的网络里。         
而要实现这两个网络之间的通信，则必须通过网关，如果网络A中的主机发现数据包的目的主机不在本地网络中，就把数据包转发给它自己的网关，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机，网络B向网络A转发数据包的过程也是如此，所以说，只有设置好网关的IP地址，TCP/IP协议才能实现不同网络之间的相互通信，那么这个IP地址是哪台机器的IP地址呢? 网关的IP地址是具有路由功能的设备的IP地址，具有路由功能的设备有路由器、启用了路由协议的服务器(实质上相当于一台路由器)、代理服务器(也相当于一台路由器)。         
什么是默认网关？如果搞清了什么是网关，默认网关也就好理解了，就好像一个房间可以有多扇门一样，一台主机可以有多个网关，默认网关的意思是一台主机如果找不到可用的网关，就把数据包发给默认指定的网关，由这个网关来处理数据包，现在主机使用的网关，一般指的就是默认网关。        
意思是，所有需要转发的数据包，都经过默认网关的IP(接口)发送出去，当然返回也是从那里经过

