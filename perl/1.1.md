####变量
变量的名称以美元符号`$`开头，然后是变量的perl标识符，由一个字母或下划线开头，后接多个字母、数字或下划线。标识符是区分大小写的，变量$Fred和$fred是两个完全不同的变量。不同的大小写字母、数字以及下划线构成了不同的标识符，所以下面的变量各不相同
```pl
$name
$Name
$NAME

$a_very_long_variable_that_ends_in_1
$a_very_long_variable_that_ends_in_2
$A_very_long_variable_that_ends_in_2
$AveryLongVariableThatEndsIn2
```
Perl并不限于使用ASCII字符作为变量名。如果启用了utf8编译指令，那么可用于表示字母或数字的字符会多许多，所以拿它们来作为变量名也是可以的
```pl
$resume
$coordinate
```
perl通过变量标识符前的$符来区分它是什么类型的变量，所以不管你取什么名字，都不会和perl自带的函数或操作符的写法相冲突。       
此外，perl是通过该$符来判断该变量的使用意图。$的确切意思是"取单个东西"或者"取标量"。因为标量变量总是存储一项数据，所以它的意思就总是取得其中的"单个"值。
####给变量取个号名字
一般来说，变量名称应该能说明它的用途和意义。比如变量$r，天知道它代表什么，但$line_length就不同了，一看就知道表示行宽。如果变量只是在接下来的两三行里用到，那么类似$n这样的简短名称倒也无妨，但用于整个程序范围的变量就该取个比较有意义的能说明问题的名字。            
同样的道理，适当补充下划线也能改善变量名的可读性，尤其是在代码维护者的母语和你的不同的情况下。举例来说，$super_bowl这个名称就比$superbowl要好，因为后者也可以理解为$superb_owl。再比如$stopid，它的意思到底是$sto_pid(存储某个进程的进程号？)、$s_to_pid(转换什么东西为进程号?)、$stop_id(某种"停止"对象的代号?)，或者仅仅是把笨蛋(stupid)拼错了？        
perl程序里面的大部分变量名称都习惯使用全小写，正如你在本书中看到的例子一样。只有少数几种情况中才会用到大写字母。而使用全大写的(比如$ARGV)变量一般都是表示特殊意义的变量。如果变量名不止一个单词，有人喜欢用下划线分开，如$underscores_are_cool,也有人喜欢用$giveMeInitialCaps这种风格。怎么选择是你的喜好，不要混用就可以了。当然你也可以使用全部大写的变量名，但这么一来就有可能和perl保留的特殊变量的名称相冲突。所以最好还是不要用全大写的名称。       
当前，名称的好坏其实对perl来说并无差别。你可以把程序中最重要的三个变量取名为$000ooo000、$00oo00oo和$0o0o0o0o0，perl不会觉得这是种挑战--但拜托不要找我们来帮你维护程序!         
####标量的赋值
对标量变量最常见的操作就是赋值了，也就是将某个值存进变量中。perl的赋值操作符为等号(这和其他程序语言差不多)，等号的左边是变量名称，右边为某个表达式，对表达式求值的结果作为赋予变量的值。       
你之所以熟悉自己的程序，无非是因为你创造了它。对你来说，$srly的意思可能是显而易见的，但对其他人来讲就不是那么回事了。      
```pl
$fred = 17;    #将$fred的值设为17
$barney = 'hello';  #将$barney的值设为5个字符组成的字符串'hello'
$barney = $fred+3;  #将$barney设为$fred当前值加上3后的结果，即20
$barney = $barney*2;  #$barney现在被设成$barney当前值乘以2后的结果，即40
```
请注意，最后一行中$barney变量出现了两次,第一次是取值(在等号右方的表达式中)，第二次是赋值(在等号左方)，表示要将右方表达式的运算结果存到该变量中。这样写不但合法、安全，而且还十分常见。事实上，正因为这种用法太常见了，我们还有种更简便的书写方式。         
####双目赋值操作符
我们经常会用到类似$fred = $fred + 5这种形式的表达式(同样的变量出现在赋值操作符的两边)，于是perl(同C或JAVA语言一样)提供了更新变量内容的简写方式--双目赋值操作符。几乎所有用来求值的双目操作符都可以接上等号，成为相应的双目赋值操作符。
```pl
$fred = $fred + 5;   #不使用双目赋值操作符
$fred += 5;   #使用双目赋值操作符
```
以下这两行也是等效的
```pl
$barney = $barney * 3;
$barney *= 3;
```
以上的例子里，双目赋值操作符都是以某种方式直接修改变量的值，而非对表达式求值后覆盖原变量值。             
另一个常见的双目赋值操作符是由字符串连接操作符`.`改进而成的追加操作符`.=`
```pl
$str = $str. " ";  #在$str末尾追加一个空格字符
$str .= " ";   #用追加操作符做同样的事
```
几乎所有的双目操作符都可以这么用。比如，乘幂操作符可以改成`**=`，所以`$fred **= 3`的意思就是说，将$fred里的值自乘3次(也就是取三次方)，再存回$fred。         
####用print输出结果
一般我们都想要程序输出些什么信息来，否则，也许会有人以为它什么事都没做。print操作符就是用来完成这项任务的，它可以接受标量值作为参数，然后不经修饰地将它传送到标准输出(standard output)。除非特别指定，否则一般默认的"标准输出"指的就是终端屏幕
```pl
print "hello world\n";   #输出hello world, 后面接着换行符
print "The answer is";
print 6 * 7;
print ".\n";
```
你也可以用print输出一系列用逗号隔开的值
```pl
print "The answei is ", 6 * 7, ".\n";
```
####字符串中的标量变量内插
一般我们用双引号圈引字符串的目的，除了是要用之前提到过的反斜线转义外，多半是为了使用变量内插(variable interpolation)。其实说白了，就是把字符串内出现的所有标量变量替换成该变量当前的值。        
```pl
$meal = "brontosaurus steak";
$barney = "fred ate a $meal";  #$barney现在是"fred ate a brontosaurus steak"
$barney = 'fred ate a '.$meal;   #另一种等效写法
```
正如上面最后一行所示，不用双引号也可以达到相同效果，但用双引号写起来更简便清晰。      
如果标量变量从未被赋值过，就会用空字符串来替换
```pl
$barney = "fred ate a $meat";  #$barney就会变成"fred ate a"
```
如果只是要打印这个变量值，则不必使用变量内插的方式
```pl
print "$fred";   #双引号是多余的
print $fred;     #这样写比较好
```
在单个变量两边加上引号也不算错，不过这么写的话，别的程序员可能会在背后嘲笑你哦，或者当面嘲笑也说不定。变量内插又被称为双引号内插，因为它通常是在双引号(而非单引号)里起作用的。        
至少，这会把变量值作为字符串处理，而不是数字。只有极少数情况下需要借助这种写法，很多时候这只是在浪费打字时间。            
除了标量变量外，还有其他类型的变量也可以内插。             
如果要将美元符号本身放进双引号内的字符串，可以在它前面用反斜线转义，以避开它的特殊意义
```pl
$fred = 'hello';
print "The name is \$fred.\n";  #会输出$符号
```
当然，也可以跳开这个变量，用串接的方式构造新的字串
```pl
print 'The name is $fred'. "\n";  #效果相同
```
进行内插时，perl会尽可能使用最长且合法的变量名称。要是你想在内插的值后面紧接着输出字母、数字或下划线，可能会碰上麻烦。      
当perl检查变量名称时，它会违背你的本意，将后面的字符当作变量名称的一部分。解决办法很简单，和shell脚本一样，perl里面我们可以用一对花括号将变量名围起来以避免歧义。要不然，可以先把字符串拆成两半，再利用连接操作符拼接起来。          
```pl
$what = "brontosaurus steak";
$n = 3;
print "fred ate $n $whats.\n";   #不是steaks,而是$whats的值
print "fred ate $n ${what}s.\n";  #现在用的是$what的值
print "fred ate $n $what" . "s.\n"; #另一种写法，但比较麻烦  
print 'fred  ate ' . $n . ' ' . $what . "s.\n";  #特别麻烦的写法
```
另外还有一些可能会出问题的字符，在标量变量名称后面如果需要接上左方括号或右方括号，请在括号前面加上反斜线。要是变量名称后面接的是单引号或两个冒号，也需要以同样的方式处理。要不然，你也可以使用正文里提到的花括号表示法来代替。 
####借助代码点创建字符
有时候我们需要输入键盘上没有的那些字符，比如e、a、@或者x等。取得这些字符的方法得看用的是什么系统的输入法或者哪一款文本编辑器。不过，与其费力寻找字型输入，还不如直接键入这些字符的代码点(code point)，再通过chr()函数转换成对应字符来的方便
```pl
$alef = chr(0x05D0);
$alpha = chr(hex('03B1'));
$omega = chr(0x03C9);
```
反过来，我们可以通过ord()函数把字符转换为代码点
```pl
$code_point = ord('？');
```
通过代码点创建的字符同样可用于双引号内的变量内插
```pl
$alpha$omega
```
如果不预先创建变量，也可以直接在双引号内用`\x{}`的形式表示， 虽然看起来有点眼花，但也还算方便
```pl
"\x{03B1}\x{03C9}"
```



